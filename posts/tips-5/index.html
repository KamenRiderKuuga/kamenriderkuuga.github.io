<!doctype html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="通过Windows系统服务守护进程的运行" /><meta name="author" content="HANABI" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="遇到这样一个需求，需要保持一个桌面客户端程序在用户电脑上的运行，并在意外关闭或者手动关闭后也要重新启动" /><meta property="og:description" content="遇到这样一个需求，需要保持一个桌面客户端程序在用户电脑上的运行，并在意外关闭或者手动关闭后也要重新启动" /><link rel="canonical" href="https://lambda.cyou//posts/tips-5/" /><meta property="og:url" content="https://lambda.cyou//posts/tips-5/" /><meta property="og:site_name" content="HANABI" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-09-13T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="通过Windows系统服务守护进程的运行" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@HANABI" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"HANABI"},"dateModified":"2021-09-13T00:00:00+08:00","datePublished":"2021-09-13T00:00:00+08:00","description":"遇到这样一个需求，需要保持一个桌面客户端程序在用户电脑上的运行，并在意外关闭或者手动关闭后也要重新启动","headline":"通过Windows系统服务守护进程的运行","mainEntityOfPage":{"@type":"WebPage","@id":"https://lambda.cyou//posts/tips-5/"},"url":"https://lambda.cyou//posts/tips-5/"}</script><title>通过Windows系统服务守护进程的运行 | HANABI</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="HANABI"><meta name="application-name" content="HANABI"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return 'mode'; } static get MODE_ATTR() { return 'data-mode'; } static get DARK_MODE() { return 'dark'; } static get LIGHT_MODE() { return 'light'; } static get ID() { return 'mode-toggle'; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia('(prefers-color-scheme: dark)'); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { document.documentElement.removeAttribute(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage( { direction: ModeToggle.ID, message: this.modeStatus }, '*' ); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"> <img src="/assets/link.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"> </a><h1 class="site-title"> <a href="/">HANABI</a></h1><p class="site-subtitle fst-italic mb-0">可乐说自己是好猫</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>首页</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>归档</span> </a><li class="nav-item"> <a href="/read/" class="nav-link"> <i class="fa-fw fas fa-book-reader"></i> <span>札记</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/KamenRiderKuuga" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github-alt"></i> </a> <a href="javascript:location.href = 'mailto:' + ['wpfmaker','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/"> 首页 </a> </span> <span>通过Windows系统服务守护进程的运行</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> 文章</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">取消</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1"><header><h1 data-toc-skip>通过Windows系统服务守护进程的运行</h1><div class="post-meta text-muted"> <span> 发表于 <time data-ts="1631462400" data-df="YYYY/MM/DD" data-bs-toggle="tooltip" data-bs-placement="bottom" > 2021/09/13 </time> </span><div class="d-flex justify-content-between"> <span> 作者 <em> <a href=""></a> </em> </span> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1029 字" > <em>5 分钟</em>阅读</span></div></div></header><div class="content"><blockquote><p>遇到这样一个需求，需要保持一个桌面客户端程序在用户电脑上的运行，并在意外关闭或者手动关闭后也要重新启动</p></blockquote><h2 id="初步尝试"><span class="me-2">初步尝试</span><a href="#初步尝试" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>在平时的开发过程中，遇到需要启动进程的需求，肯定会想到使用：</p><div class="language-c# highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">System</span><span class="p">.</span><span class="n">Diagnostics</span><span class="p">.</span><span class="n">Process</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="s">"Example.exe"</span><span class="p">);</span>
</pre></table></code></div></div><p>这样的方式来启动一个进程，于是针对现在的需求，我们可能会在系统服务程序中写这样的代码：</p><div class="language-c# highlighter-rouge"><div class="code-header"> <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="kt">var</span> <span class="n">processName</span> <span class="p">=</span> <span class="s">"notepad"</span><span class="p">;</span>

<span class="k">while</span> <span class="p">(</span><span class="k">true</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Thread</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="m">5000</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(!(</span><span class="n">Process</span><span class="p">.</span><span class="nf">GetProcessesByName</span><span class="p">(</span><span class="s">"notepad"</span><span class="p">)?.</span><span class="n">Length</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">))</span>
    <span class="p">{</span>
        <span class="n">Process</span><span class="p">.</span><span class="nf">Start</span><span class="p">(</span><span class="n">processName</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><p>为了验证是否能够生效，我们安装系统服务并启动这个系统服务<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup></p><p>等待了一段时间，在操作系统界面上，没有看到记事本程序像预期那样启动。通常可能会认为进程没有被正常的启动，或者代码执行过程中出现了什么问题，但是当我们使用任务管理器等方式查找进程，却发现名字为<em>notepad</em>的进程已经存在了，这是怎么回事呢？</p><h2 id="探索原因"><span class="me-2">探索原因</span><a href="#探索原因" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>在一番搜索之后，终于发现了原因（具体可以查看本文下方中获取到这些知识的文章）。原来从<em>Windows Vista</em>开始，Windows系统引入了<strong>Session 0 隔离</strong>机制，这个机制是出于一些安全方面的考量</p><blockquote><p>In Windows XP, Windows Server 2003, and earlier versions of the Windows operating system, all services run in the same session as the first user who logs on to the console. This session is called Session 0. Running services and user applications together in Session 0 poses a security risk because services run at elevated privilege and therefore are targets for malicious agents who are looking for a means to elevate their own privilege level.</p></blockquote><p>首先要明白Windows系统中Session的概念，在Windows系统中，每个登录的用户都会被分配到一个唯一的SessionId，每个Session之间是彼此有隔离的，按照目前对于Session的理解，可以认为：</p><blockquote><p>进程是为了内部的执行的线程提供一个空间和环境，而会话则是为内部所有的进程提供一个执行的空间和环境。</p></blockquote><p>在早期的Windows系统中，Windows服务进程与第一个登录进入系统的用户共享同一个Session，没有做任何隔离，这样会引发一些隐患，比如恶意软件可以通过与Windows服务进程进行通讯，来造成一些超出用户权限能力的破坏</p><p>于是，由于Windows服务被隔离到了一个单独的Session，也就是Session 0，所以当我们通过Windows服务启动进程的时候，这个进程是在Session 0中被启动，我们无法看到其交互界面</p><h2 id="解决问题"><span class="me-2">解决问题</span><a href="#解决问题" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>按照参考文章中的说法，想要从Session 0产生一些具有交互界面的行为，可以使用调用<em>Win32 Api</em>来实现：</p><ol><li>可以使用 <code class="language-plaintext highlighter-rouge">WTSSendMessage</code>往用户桌面创建一个简单的消息框<li>使用<code class="language-plaintext highlighter-rouge">CreateProcessAsUser </code>函数在用户会话中创建进程</ol><p>很明显，第二个选项就是我们需要的，于是我们在代码中调用这个函数，即可解决这个问题，详见代码[<a href="https://github.com/GadHao/ProcessGuard/blob/main/ProcessGuard.Common/Utility/ApplicationLoader.cs">ProcessGuard/ApplicationLoader.cs at main · GadHao/ProcessGuard (github.com)</a>]里的<code class="language-plaintext highlighter-rouge">StartProcessInSession0()</code>函数，代码中有详细注释</p><h2 id="开发工具"><span class="me-2">开发工具</span><a href="#开发工具" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>利用上面介绍的方法开发了进程守护服务，并且制作了WPF界面管理整个守护服务从安装使用到停止和卸载的整个过程，有兴趣或者有需要的可以下载使用：</p><p><a href="https://github.com/GadHao/ProcessGuard/releases">Releases · GadHao/ProcessGuard (github.com)</a></p><p><a href="/assets/img/processguard-1.PNG" class="popup img-link shimmer"><img src="/assets/img/processguard-1.PNG" alt="" loading="lazy"></a></p><h2 id="参考内容"><span class="me-2">参考内容</span><a href="#参考内容" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>本文，特别是文中的引用部分参考了这些文章的内容：</p><p><a href="https://www.codeproject.com/Articles/35773/Subverting-Vista-UAC-in-Both-32-and-64-bit-Archite">Subverting Vista UAC in Both 32 and 64 bit Architectures By Pero Matić</a></p><p><a href="https://techcommunity.microsoft.com/t5/ask-the-performance-team/application-compatibility-session-0-isolation/ba-p/372361">Application Compatibility - Session 0 Isolation By Craig Marcho</a></p><p><a href="https://www.cnblogs.com/russinovich/archive/2011/04/26/2029655.html">理解Windows会话</a></p><div class="footnotes" role="doc-endnotes"><ol><li id="fn:1" role="doc-endnote"><p>关于如何安装和启动系统服务，可以查看<a href="/posts/tips-2/">Windows相关备忘的第18到20点</a> <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p></ol></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/%E7%BB%8F%E9%AA%8C%E6%8A%80%E5%B7%A7/">经验技巧</a>, <a href="/categories/%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/">经验总结</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/net/" class="post-tag no-text-decoration" >.NET</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted me-1">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%E9%80%9A%E8%BF%87Windows%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%BF%90%E8%A1%8C%20-%20HANABI&url=https%3A%2F%2Flambda.cyou%2F%2Fposts%2Ftips-5%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter" > <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%E9%80%9A%E8%BF%87Windows%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%BF%90%E8%A1%8C%20-%20HANABI&u=https%3A%2F%2Flambda.cyou%2F%2Fposts%2Ftips-5%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook" > <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=%E9%80%9A%E8%BF%87Windows%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1%E5%AE%88%E6%8A%A4%E8%BF%9B%E7%A8%8B%E7%9A%84%E8%BF%90%E8%A1%8C%20-%20HANABI&url=https%3A%2F%2Flambda.cyou%2F%2Fposts%2Ftips-5%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram" > <i class="fa-fw fab fa-telegram"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="分享链接" data-title-succeed="链接已复制！" > <i class="fa-fw fas fa-link pe-none"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted"><div class="access"><section><h2 class="panel-heading">热门标签</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/net-core/">.NET Core</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/">编程基础</a> <a class="post-tag btn btn-outline-primary" href="/tags/python/">Python</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E6%8A%80%E6%9C%AF%E5%A4%87%E5%BF%98/">技术备忘</a> <a class="post-tag btn btn-outline-primary" href="/tags/css/">CSS</a> <a class="post-tag btn btn-outline-primary" href="/tags/html/">HTML</a> <a class="post-tag btn btn-outline-primary" href="/tags/rust/">Rust</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E6%97%A5%E5%B8%B8%E5%B7%A5%E5%85%B7/">日常工具</a> <a class="post-tag btn btn-outline-primary" href="/tags/dbms/">DBMS</a> <a class="post-tag btn btn-outline-primary" href="/tags/docker/">Docker</a></div></section></div><section id="toc-wrapper" class="ps-0 pe-4"><h2 class="panel-heading ps-3 pt-2 mb-2">文章内容</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">相关文章</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/tips-6/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1635696000" data-df="YYYY/MM/DD" > 2021/11/01 </time><h4 class="pt-0 my-2">自定义供日常使用的PowerShell脚本模块</h4><div class="text-muted"><p> 在使用Windows操作系统时，经常会以PowerShell作为Shell工具，本文描述如何封装自己经常使用的脚本供日常使用 编写脚本 在这里我们编写一个脚本，用来找出桌面上一个星期以上（大于或者等于8天）没有访问过的文件，因为是用于示例，这里使用相对容易理解的语法，并且添加了注释： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19...</p></div></div></a></article><article class="col"> <a href="/posts/url-shorter-1/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1651334400" data-df="YYYY/MM/DD" > 2022/05/01 </time><h4 class="pt-0 my-2">实现一个短链服务器</h4><div class="text-muted"><p> 短链服务器，即将长链接转换为短链接的服务器，本文记录实现一个短链服务器的过程。 背景 将长链接转换成短链接有几个显而易见的好处： 方便记忆 便于分享 在需要生成二维码时，能降低二维码的复杂度 以及一些其他用途，例如可以基于短链服务做一些流量统计，增加链接过期等功能。 构思 实现短链的转换，存储及跳转是非常容易的，但是在实际实现过程中，还是有一些需要考虑的问题...</p></div></div></a></article><article class="col"> <a href="/posts/python-crawler-1/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1589472000" data-df="YYYY/MM/DD" > 2020/05/15 </time><h4 class="pt-0 my-2">Python爬虫基础之广西人才网的信息爬取(1) - 简单爬虫</h4><div class="text-muted"><p> 最近刚学习了Python的语法，迫不及待想做自己的第一个爬虫了，这里记录自己编写一个简单的爬虫程序爬取广西人才网的过程 前期准备 1.拟定好要爬取的数据，因为这是第一次做爬虫，简单爬取一下广西人才网上各大编程语言的招聘信息，以每个岗位的标题为准，之后再做扩展 2.分析网页结构，来到广西人才网首页，如图所示，在分类中找到本次要爬取的岗位分类，都是开发类： 点进这两个分类的，...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/docker-1/" class="btn btn-outline-primary" aria-label="上一篇" ><p>Docker使用备忘</p></a> <a href="/posts/tips-6/" class="btn btn-outline-primary" aria-label="下一篇" ><p>自定义供日常使用的PowerShell脚本模块</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p> © <time>2024</time> <a href="https://github.com/KamenRiderKuuga">HANABI</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。" >保留部分权利。</span></p><p>本站由 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 生成，采用 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> 主题。</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">热门标签</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/net-core/">.NET Core</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/">编程基础</a> <a class="post-tag btn btn-outline-primary" href="/tags/python/">Python</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E6%8A%80%E6%9C%AF%E5%A4%87%E5%BF%98/">技术备忘</a> <a class="post-tag btn btn-outline-primary" href="/tags/css/">CSS</a> <a class="post-tag btn btn-outline-primary" href="/tags/html/">HTML</a> <a class="post-tag btn btn-outline-primary" href="/tags/rust/">Rust</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E6%97%A5%E5%B8%B8%E5%B7%A5%E5%85%B7/">日常工具</a> <a class="post-tag btn btn-outline-primary" href="/tags/dbms/">DBMS</a> <a class="post-tag btn btn-outline-primary" href="/tags/docker/">Docker</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask"></div><script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/zh.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.21.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/unregister.js"></script> <script> /* Note: dependent library will be loaded in `js-selector.html` */ SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
